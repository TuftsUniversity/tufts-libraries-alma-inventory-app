<!DOCTYPE html>
<!--
Barcode Scanning Inventory Form

Dependencies
  1. JQuery UI Dialog:https://jqueryui.com/dialog/
  2. A web service that returns data from the Alma API based on a Barcode: https://github.com/Georgetown-University-Libraries/BarcodeInventory
  3. (Sheets removed) Local CSV download only

Author: Terry Brady, Georgetown University Libraries
-->
<html>
<head>
  <meta charset="utf-8" />
  <title>Barcode Inventory</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
  <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" type="text/css" href="barcode.css"/>
  <!-- Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!-- App init -->
  <script type="text/javascript" src="barcode.init.js"></script>
  <!-- Stub to replace Google Sheets dependency; must load BEFORE barcode.js -->
  <script type="text/javascript" src="no-gsheet.stub.js"></script>
  <!-- Main app -->
  <script type="text/javascript" src="barcode.js"></script>
  <script type="text/javascript" src="locCallClass.js"></script>
</head>
<body>
  <input id="test" type="hidden"/>
  <input id="mode" type="hidden"/>
  <input id="user" type="hidden"/>

  <div id="dialog-msg"></div>
  <div id="legend-div"></div>

  <div id="dialog-form" title="Add Barcode">
    <fieldset>
      <label>Last barcode scanned:</label>
      <span id="lastbarcode"></span>
      <span id="laststatus"></span>
      <h2 id="bcCall">Call Number</h2>
      <h4 id="bcTitle">Title</h4>
      <h2 id="bcVol">Volume</h2>
      <div>
        <button class="lastbutt" accesskey="c" status="META-CALL" status_msg="Bad Call Number">Bad <b>C</b>all Num</button>
        <button class="lastbutt" accesskey="t" status="META-TTL" status_msg="Bad Title">Bad <b>T</b>itle</button>
        <button class="lastbutt" accesskey="v" status="META-VOL" status_msg="Bad Volume">Bad <b>V</b>olume</button>
        <button class="lastbutt" accesskey="m" status="PULL-MULT" status_msg="Multiple Issues"><b>M</b>ultiple Issues</button>
        <button class="rescan" title="Rescan last item"><i class="material-icons">refresh</i></button>
      </div>
    </fieldset>
    <hr/>
    <p class="validateTips" id="message">Scan the next barcode.</p>
    <form>
      <fieldset>
        <label for="barcode">Barcode</label>
        <input type="text" name="barcode" id="barcode" value="" class="text ui-widget-content ui-corner-all">
        <button id="doBulk" title="Bulk Add Barcodes by Copy/Paste" type="button">...</button>

        <!-- Allow form submission with keyboard without duplicating the dialog button -->
        <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
      </fieldset>
    </form>
  </div>

  <div id="dialog-bulk" title="Bulk Add Barcodes">
    <fieldset>
      <form>
        <div><label for="barcodes">Barcode List</label></div>
        <textarea name="barcodes" id="barcodes" rows="10" cols="16"></textarea>
      </form>
    </fieldset>
  </div>

  <div id="main">
    <!-- Toolbar -->
    <span id="gsheetdiv" class="toolbar">
      <a id="legend-button" href="#">Legend</a>
      <a id="addb" href="#">Add Barcode</a>
      <!-- CSV download only (no Google Sheets) -->
      <a id="downloadCsv" href="#">End Session -- Download CSV</a>
      <select id="libSelected">
        <option value="">Select Library</option>
      </select>

      <select id="locSelected">
        <option value="">Select Location</option>
      </select>
    </span>

    <div>
      <table id="restable">
        <tr class="header">
          <th class="action noexport"></th>
          <th class="role">Barcode</th>
          <th class="role">Location Code</th>
          <th class="role wide">Call Number</th>
          <th class="role">Volume</th>
          <th class="role wide">Title</th>
          <th class="role">Process</th>
          <th class="role">Temp Location</th>
          <th class="role">Bib supp</th>
          <th class="role">Hold supp</th>
          <th class="role">Record Num</th>
          <th class="role">Status</th>
          <th class="role wide">Status Note</th>
          <th class="role">Timestamp</th>
        </tr>
      </table>
    </div>
  </div>

  <!-- Override to disable popups & (optionally) hide any Sheets hooks -->
  <script src="no-gsheet.override.js"></script>
</body>
</html>

